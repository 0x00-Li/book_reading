# 11. 亿级流量分级缓存设计 服务降级

在高并发场景下，当系统的一些功能出现异常，无法继续提供服务的时候，为了保证整体可用性，可以牺牲一部分功能，依旧提供有限服务



## SLA

服务等级协议



SLA分为网络服务、云服务提供商在线保障率和项目自身故障率



# 6个9

2个9 = = 3.65天







相当于是AP

12306 强一致性，所以牺牲的是可用性

## 降级处理

### 兜底数据

默认值：设置的安全默认值

静态值：请求页面或者api无法返回数据的时候，返回静态json或者页面

缓存：在请求数据过程中执行**回源**，一直找到db，然后设置到缓存中，



### 限流降级



### 超时降级

重试，保证幂等操作





